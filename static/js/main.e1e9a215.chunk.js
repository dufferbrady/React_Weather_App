(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,function(e,t,a){e.exports={Weather:"Weather__Weather__2ACoX",WeatherContainer:"Weather__WeatherContainer__2twaF",HeaderContainer:"Weather__HeaderContainer__UFLQt",spanItem:"Weather__spanItem__2tqCr",HeaderCity:"Weather__HeaderCity__3S_0v",WeatherInfo:"Weather__WeatherInfo__2VTx0",WeatherIcon:"Weather__WeatherIcon__11S-r",WeatherTempContainer:"Weather__WeatherTempContainer__2HaS0",WeatherTemp:"Weather__WeatherTemp__1c4Lp",WeatherTempToggle:"Weather__WeatherTempToggle__ZhEAT",WeatherStats:"Weather__WeatherStats__2ugQB",WeatherTile:"Weather__WeatherTile__2_K7_",Closed:"Weather__Closed__1y-5o"}},,,,,,function(e,t,a){e.exports={Error:"ErrorHandling__Error__bfrBJ",Message:"ErrorHandling__Message__JG3Jw",ErrorIcon:"ErrorHandling__ErrorIcon__2dVpF",Details:"ErrorHandling__Details__3eGTA",Summary:"ErrorHandling__Summary__1quql",Button:"ErrorHandling__Button__gVTh5"}},,function(e,t,a){e.exports={Tile:"WeatherTile__Tile__2XfUr",TileHeader:"WeatherTile__TileHeader__CWqaI",TileTemp:"WeatherTile__TileTemp__12Ibw",MaxTemp:"WeatherTile__MaxTemp__3y9uP",MinTemp:"WeatherTile__MinTemp__1TgZj",Closed:"WeatherTile__Closed__8z02V"}},,,function(e,t,a){e.exports={SideDrawer:"SideDrawer__SideDrawer__3wvlM",Open:"SideDrawer__Open__3xsf8",Closed:"SideDrawer__Closed__2za3W",Logo:"SideDrawer__Logo__10IHv"}},function(e,t,a){e.exports={Icon:"TempToggler__Icon__lwtjT",Active:"TempToggler__Active__2gAWZ",InActive:"TempToggler__InActive__3pHjY"}},,,,,,function(e,t,a){e.exports={NavigationSearchItem:"NavigationSearchItems__NavigationSearchItem__2etKh",NavigationSearchForm:"NavigationSearchItems__NavigationSearchForm__r_AB7"}},function(e,t,a){e.exports={Button:"Button__Button__ajevi",Onclic:"Button__Onclic__GwMb3",rotating:"Button__rotating__21Nnm",Closed:"Button__Closed__12f3V"}},function(e,t,a){e.exports={NavigationItem:"NavigationItem__NavigationItem__3YSjr"}},function(e,t,a){e.exports={NavigationItems:"NavigationItems__NavigationItems__3HY9i",Closed:"NavigationItems__Closed__1hp7N"}},function(e,t,a){e.exports={Toolbar:"Toolbar__Toolbar__2hkfg",Logo:"Toolbar__Logo__24rue",DesktopOnly:"Toolbar__DesktopOnly__15Sc_"}},,,function(e,t,a){e.exports={Container:"WeatherForm__Container__2iX5P",Search:"WeatherForm__Search__PEnv6"}},,,,function(e,t,a){e.exports={Drawer:"DrawerToggle__Drawer__1bLtm"}},function(e,t,a){e.exports={BackDrop:"BackDrop__BackDrop__1XO2E"}},function(e,t,a){e.exports={Loader:"Spinner__Loader__3dgUo",rotating:"Spinner__rotating__2w7lo"}},function(e,t,a){e.exports={WeatherForecast:"WeatherForecast__WeatherForecast__i8J3_"}},,function(e,t,a){e.exports={App:"App__App__3Ge-C","App-logo":"App__App-logo__S1Lue","App-logo-spin":"App__App-logo-spin__2zbnz","App-header":"App__App-header__1mzDF","App-link":"App__App-link__2IVtc"}},,function(e,t,a){e.exports=a(73)},,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(31),i=a.n(o),c=a(75),s=(a(46),a(6)),l=a(7),m=a(9),u=a(8),_=a(10),h=a(76),d=a(29),p=function(e){return e.children},v=a(74),g=a(25),f=a.n(g),E=function(e){return r.a.createElement("li",{className:f.a.NavigationItem},r.a.createElement(v.a,{onClick:e.closed,to:e.link,href:e.link,className:e.active?f.a.active:null},e.children))},w=a(12),y=a.n(w),S=a(21),W=a(77),N=a(23),C=a.n(N),T=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={newCity:""},a.inputCityHandler=function(e){a.setState({newCity:e.target.value})},a.submitHandler=function(){var e=Object(S.a)(y.a.mark(function e(t){var n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=t.target.elements.city.value,r=encodeURIComponent(n),a.props.history.push({pathname:"/forecast",search:"?city=".concat(r)}),a.setState({newCity:""}),a.props.closed();case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(_.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("li",{className:C.a.NavigationSearchItem},r.a.createElement("form",{className:C.a.NavigationSearchForm,onSubmit:this.submitHandler},r.a.createElement("input",{autoComplete:"off",name:"city",className:this.props.active?C.a.active:null,type:"text",value:this.state.newCity,placeholder:"Search New City",onChange:this.inputCityHandler})))}}]),t}(n.Component),b=Object(W.a)(T),A=a(26),D=a.n(A),I=function(e){var t=null;return e.remove&&(t=D.a.Closed),r.a.createElement("ul",{className:D.a.NavigationItems},r.a.createElement(E,{link:"/",closed:e.closed},"Home"),r.a.createElement(b,{className:t,closed:e.closed}))},H=a(27),x=a.n(H),O=a(34),j=a.n(O),k=function(e){return r.a.createElement("div",{className:j.a.Drawer,onClick:e.open},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},F=function(e){return r.a.createElement("header",{className:x.a.Toolbar},r.a.createElement(k,{open:e.showSideDrawer}),r.a.createElement("nav",{className:x.a.DesktopOnly},r.a.createElement(I,null)))},B=a(16),L=a.n(B),M=a(35),P=a.n(M),q=function(e){return e.show?r.a.createElement("div",{className:P.a.BackDrop,onClick:e.clicked}):null},U=function(e){var t=[L.a.SideDrawer,L.a.Closed];return e.open&&(t=[L.a.SideDrawer,L.a.Open]),r.a.createElement(p,null,r.a.createElement(q,{show:e.open,clicked:e.closed}),r.a.createElement("div",{className:t.join(" ")},r.a.createElement("nav",null,r.a.createElement(I,{closed:e.closed,remove:e.remove}))))},J=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={showSideDrawer:!1},a.closeSideDrawerHandler=function(){a.setState({showSideDrawer:!1})},a.toggleSideDrawerHandler=function(){a.setState(function(e){return{showSideDrawer:!e.showSideDrawer}})},a}return Object(_.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(p,null,r.a.createElement(F,{showSideDrawer:this.toggleSideDrawerHandler}),r.a.createElement(U,{open:this.state.showSideDrawer,closed:this.closeSideDrawerHandler,remove:this.toggleSideDrawerHandler}),r.a.createElement("div",null," ",this.props.children," "))}}]),t}(n.Component),V=a(30),z=a.n(V),G=function(e){return r.a.createElement("form",{onSubmit:e.load,className:z.a.Container},r.a.createElement("input",{autoComplete:"off",type:"text",name:"city",placeholder:"City",required:!0}),r.a.createElement("div",{className:z.a.Search}))},R=a(36),X=a.n(R),Y=function(){return r.a.createElement("div",{className:X.a.Loader},"Loading...")},Z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.getCity=function(){var e=Object(S.a)(y.a.mark(function e(t){var n,r;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a.setState({loading:!0}),n=t.target.elements.city.value,a.setState({loading:!1}),r=encodeURIComponent(n),a.props.history.push({pathname:"/forecast",search:"?city=".concat(r)});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(_.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){console.log("[SearchWeather] RENDER:",this.props);var e=null;return this.state.loading&&(e=r.a.createElement(Y,null)),r.a.createElement("div",null,r.a.createElement(G,{load:this.getCity}),e)}}]),t}(n.Component),K=a(5),Q=a.n(K),$=a(13),ee=a.n($),te=function(e){return r.a.createElement("div",{className:ee.a.Tile},r.a.createElement("span",{className:ee.a.TileHeader},e.day),r.a.createElement("img",{src:e.icon,alt:"Forecasted Weather Icon"}),r.a.createElement("div",{className:ee.a.TileTemp},r.a.createElement("span",{className:ee.a.MaxTemp},e.temp_max,"\xb0"),r.a.createElement("span",{className:ee.a.MinTemp},e.temp_min,"\xb0")))},ae=a(37),ne=a.n(ae),re=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"],oe=function(e){console.log("[WeatherForecast]",e.forecast);var t=(new Date).getDay(),a=e.forecast.map(function(a,n){var o,i,c=re[n=(t+n)%7];e.celsiusActive&&(o=(a.main.temp_max-273.15).toFixed(0),i=(a.main.temp_min-273.15).toFixed(0)),e.farenheitActive&&(o=(1.8*(a.main.temp_max-273.15)+32).toFixed(0),i=(1.8*(a.main.temp_min-273.15)+32).toFixed(0));var s="http://openweathermap.org/img/w/".concat(a.weather[0].icon,".png");return r.a.createElement(te,{day:c,key:n,temp_max:o,temp_min:i,icon:s,conditions:a.weather[0].description})});return r.a.createElement("div",{className:ne.a.WeatherForecast},a)},ie=a(24),ce=a.n(ie),se=function(e){var t=ce.a.Button;return e.forecastLoading&&(t=ce.a.Onclic),e.forecast&&(t=ce.a.Closed),r.a.createElement("button",{className:t,onClick:e.load},e.children)},le=a(17),me=a.n(le),ue=function(e){var t=[me.a.Icon,me.a.InActive];return e.active||(t=[me.a.Icon,me.a.Active]),r.a.createElement("button",{onClick:e.click,disabled:e.active,className:t.join(" ")},e.children)},_e=a(52),he=a(11),de=a.n(he),pe=a(38),ve=function(e){return r.a.createElement("div",{className:de.a.Error},r.a.createElement("div",{className:de.a.Message},r.a.createElement(pe.a,{className:de.a.ErrorIcon,icon:"frown"}),r.a.createElement("h2",null,e.message)),r.a.createElement("details",{className:de.a.Details},r.a.createElement("summary",{className:de.a.Summary},"Details"),e.error&&e.error.toString(),r.a.createElement("br",null)),r.a.createElement(_e.a,{to:"/"},r.a.createElement("button",{className:de.a.Button},"Retry")))},ge={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},fe=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={city:null,loading:!1,forecast:null,showForecast:!1,forecastLoading:!1,country:null,temperature:null,icon:null,description:null,date:void 0,humidity:void 0,wind:void 0,cloudiness:void 0,celsiusActive:!1,farenheitActive:!1,error:!1,message:""},a.componentDidUpdate=function(e){if(a.props.location.search!==e.location.search){a.setState({loading:!0});var t=a.props.location.search.substr(6);a.getWeatherHandler(t)}},a.getWeatherHandler=function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);a.setState({city:t}),fetch("http://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&APPID=").concat("4c04be157de57a31223958d6b571bd89")).then(function(e){return e.json()}).then(function(e){var t=(e.main.temp-273.15).toFixed(0),n="http://openweathermap.org/img/w/".concat(e.weather[0].icon,".png"),r=new Date,o=a.getDateHandler(r),i=(360*e.wind.speed/1e3).toFixed(0);a.setState({country:e.sys.country,temperature:t,icon:n,description:e.weather[0].description,loading:!1,date:o,humidity:e.main.humidity,wind:i,cloudiness:e.clouds.all,celsiusActive:!0})}).catch(function(e){a.setState({loading:!1,message:'Sorry, something went wrong searching for "'.concat(t,'".'),error:e})})},a.getDateHandler=function(e){var t=ge[e.getDay()],a=e.getHours(),n=e.getMinutes();return a<10&&(a="0".concat(a)),n<10&&(n="0".concat(n)),"".concat(t,", ").concat(a,":").concat(n)},a.setCelsiusHandler=function(e){var t=(5/9*(e-32)).toFixed(0);a.setState({temperature:t,celsiusActive:!0,farenheitActive:!1})},a.setFarenheitHandler=function(e){var t=(1.8*e+32).toFixed(0);a.setState({temperature:t,celsiusActive:!1,farenheitActive:!0})},a.getForecast=function(){a.setState({forecastLoading:!0});var e=a.state.city;fetch("http://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&APPID=").concat("4c04be157de57a31223958d6b571bd89")).then(function(e){return e.json()}).then(function(e){console.log(e);var t=e.list.slice(0,7);a.setState({showForecast:!0,forecast:t})}).catch(function(e){return a.setState({loading:!1,message:"Something went wrong. Please try again.",error:e})})},a}return Object(_.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setState({loading:!0});var e=this.props.location.search.substr(6);this.getWeatherHandler(e)}},{key:"render",value:function(){var e=this,t=null;this.state.showForecast&&(t=r.a.createElement(oe,{forecast:this.state.forecast,celsiusActive:this.state.celsiusActive,farenheitActive:this.state.farenheitActive}));var a=r.a.createElement("div",{className:Q.a.Weather},r.a.createElement("div",{className:Q.a.HeaderContainer},r.a.createElement("span",{className:Q.a.HeaderCity},this.state.city,", ",this.state.country),r.a.createElement("span",{className:Q.a.spanItem},this.state.date),r.a.createElement("span",{className:Q.a.spanItem},this.state.description)),r.a.createElement("div",{className:Q.a.WeatherContainer},r.a.createElement("div",{className:Q.a.WeatherInfo},r.a.createElement("img",{className:Q.a.WeatherIcon,src:this.state.icon,alt:"The current weather"}),r.a.createElement("div",{className:Q.a.WeatherTempContainer},r.a.createElement("span",{className:Q.a.WeatherTemp},this.state.temperature),r.a.createElement("div",{className:Q.a.WeatherTempToggle},r.a.createElement(ue,{active:this.state.celsiusActive,click:function(){return e.setCelsiusHandler(e.state.temperature)}},"\xb0 C"),r.a.createElement("span",null," | "),r.a.createElement(ue,{active:this.state.farenheitActive,click:function(){return e.setFarenheitHandler(e.state.temperature)}},"\xb0 F")))),r.a.createElement("div",{className:Q.a.WeatherStats},r.a.createElement("div",null,"Humidity: ",this.state.humidity,"%"),r.a.createElement("div",null,"Cloudiness: ",this.state.cloudiness,"%"),r.a.createElement("div",null,"Wind: ",this.state.wind," km/h"))),r.a.createElement(se,{load:this.getForecast,forecastLoading:this.state.forecastLoading,forecast:this.state.forecast},"Get Forecast!"),t);return this.state.loading&&(a=r.a.createElement(Y,null)),this.state.error&&(a=r.a.createElement(ve,{error:this.state.error,message:this.state.message})),r.a.createElement("div",null,a)}}]),t}(n.Component),Ee=a(39),we=a.n(Ee),ye=a(15),Se=a(40);ye.b.add(Se.a);var We=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:we.a.App},r.a.createElement(J,null,r.a.createElement(h.a,null,r.a.createElement(d.a,{path:"/forecast",component:fe}),r.a.createElement(d.a,{path:"/",exact:!0,component:Z}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ne=r.a.createElement(c.a,null,r.a.createElement(We,null));i.a.render(Ne,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[41,2,1]]]);
//# sourceMappingURL=main.e1e9a215.chunk.js.map